<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册页面</title>
		<link rel="stylesheet" type="text/css" href="css/base.css"/>
		<link rel="stylesheet" type="text/css" href="css/register.css"/>
	</head>
	<body>
		<div id="top-wrap">
			<div id="top">
				<a href="index.html" title="美丽说首页"></a>
			</div>
		</div>
		<div id="content-wrap">
			<div id="left-banner">
				<a href target="_blank" class="click-banner"></a>
			</div>
			<div id="right-banner">
				<div class="regist">
					<h3>新用户注册</h3>
				</div>
				<div class="regist-msg">
					<p class="error-tip">请输入手机号码</p>
					<div class="phone-coat">
						<input type="text" name="tel" id="userphone" value="" placeholder="手机号码" maxlength="11" class="test"/>
					</div>
					<div class="code-coat">
						<a href="javascript:" class="getCode step1">点击获取验证码</a>
						<input type="text" name="checkcode" id="code" placeholder="验证码" class="test"/>
						<p class="fournumber"></p>
					</div>
					<!--立即注册-->
					<div class="click-regist">
						<input type="button" name="" id="sub" value="立即注册" class="step1"/>
					</div>
					<div class="regist-rule">
						<label>
							<input type="checkbox" name="read" id="check" value="1" />
							<span id="service-tip">
								<span>我已阅读并且同意</span>
								<a target="_blank" href="//act.meilishuo.com/wap/1003?ptp=1.SzeOSb.0.0.kwvX7">美丽说注册条款</a>
							</span>
						</label>
					</div>
					<div class="login-txt">
						<a href="javascript:void" class="suc">< 已有账号登录</a>
					</div>
				</div>
			</div>
		</div>
		
				<!--脚部区域-->
		<div id="footer_wrap">
			<footer>
				<div class="bottom">
					<div class="first">
						<h4>买家帮助</h4>
						<div class="bottom_link">
							<a href="#">新手指南</a>
						</div>
						<div class="bottom_link">
							<a href="#">服务保障</a>
						</div>
						<div class="bottom_link">
							<a href="#">常见问题</a>
						</div>
						<div class="bottom_link">
							<a href="#">风险监测</a>
						</div>
					</div>
					<div class="first">
						<h4>商家帮助</h4>
						<div class="bottom_link">
							<a href="#">供货商招募</a>
						</div>
						<div class="bottom_link">
							<a href="#">商家后台</a>
						</div>
						
					</div>
					<div class="first">
						<h4>关于我们</h4>
						<div class="bottom_link">
							<a href="#">关于美丽说</a>
						</div>
						<div class="bottom_link">
							<a href="#">联系我们</a>
						</div>
						
					</div>
					
					<div class="first aboutus">
						<h4>关注我们</h4>
						<div class="bottom_link">
							<a href="#">
								<span class="bottom_sina"></span>
								新浪微博
							</a>
						</div>
						<div class="bottom_link">
							<a href="#">
								<span class="bottom_qqzone"></span>
								QQ空间
							</a>
						</div>
						<div class="bottom_link">
							<a href="#">
								<span class="bottom_weibo"></span>
								腾讯微博
							</a>
						</div>
					</div>
					
					<div class="first service">
						<h4>美丽说微信服务号</h4>
						<img src="img/weixin100x100.jpg"/>
					</div>
					<div class="first last">
						<h4>美丽说客户端下载</h4>
						<img src="img/download100x100.png"/>
					</div>
				</div>
				<div class="footer_copyright">
					 Copyright ©2017 Meilishuo.com &nbsp;
					 <a href="#">电信与信息服务业务经营许可证100798号</a> &nbsp;
					<a href="#">经营性网站备案信息</a> <br />
					 京ICP备11031139号  &nbsp;京公网安备110108006045 &nbsp;&nbsp;  客服电话：4000-800-577 &nbsp;文明办网文明上网举报电话：010-82615762 &nbsp;
					 <a href="#">违法不良信息举报中心</a>
				</div>
			</footer>
		</div>
		<script src="js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function() {
			function change() {
				four = $(".fournumber");
				// 验证码组成库
				var arrays = new Array(
					'1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
					'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',
					'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',
					'u', 'v', 'w', 'x', 'y', 'z',
					'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',
					'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T',
					'U', 'V', 'W', 'X', 'Y', 'Z'
				);
				fourth = ''; // 重新初始化验证码
				for(var i = 0; i < 4; i++) {
					// 随机获取一个数组的下标
					var r = parseInt(Math.random() * arrays.length);
					fourth += arrays[r];
				}
				// 验证码添加到input里
				four.html(fourth);
				}
				change();
				four.click(change);

				
				$("#sub").click(function() {
					var inputCode = $("#code").val().toUpperCase(); //取得输入的验证码并转化为大写 
					console.log(inputCode);
					if(inputCode.length == 0) { 
						$(".error-tip").show().html("请输入验证码");
					}
					if(inputCode != fourth.toUpperCase()) { //若输入的验证码与产生的验证码不一致时
						$(".error-tip").show().html("短信校验失败，请重试"); //则弹出验证码输入错误
						change(); //刷新验证码
						$("#code").val(""); //清空文本框
					}
					if(inputCode == fourth.toUpperCase()){
						$(".error-tip").hide();
					}
				});
				
				$(".step1").click(function(){
					var telephone = $("#userphone").val();
					var telephone1=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;
					if(telephone==""){
						$(".error-tip").show();
						$(".error-tip").html("请输入手机号码")
					}
					if(telephone1.test(telephone)){
						$(".getCode").click(function(){
						$(".fournumber").show();
						$("#sub").click(function(){
							if(check.checked){
								$(".error-tip").hide();
								alert("恭喜您，注册成功！")
								location.href = "index.html";
							}else{
								$(".error-tip").show();
								$(".error-tip").html("请勾选注册条款！")
							}
						})
						});
						
					}else{
						$(".error-tip").show();
						$(".error-tip").html("请填写正确的手机号")
						$(".test").click(function(){
							
							$(".error-tip").hide();
						})
					}
				})
			})
		</script>
	</body>
</html>
